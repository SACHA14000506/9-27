{"d21e93139697be2c0a6fdc4ee74d30d2834a729f":{"changes":{"src\/core\/vdom\/helpers\/resolve-async-component.js":"MODIFY","test\/unit\/modules\/vdom\/create-component.spec.js":"MODIFY"},"diff":{"src\/core\/vdom\/helpers\/resolve-async-component.js":[{"add":["80","      } else {","81","        contexts.length = 0"],"delete":[]}],"test\/unit\/modules\/vdom\/create-component.spec.js":[{"add":["78","  it('create a component when resolved with synchronous async loading', done => {","79","    const data = {","80","      props: {},","81","      staticAttrs: { class: 'bar' }","82","    }","83","    spyOn(vm, '$forceUpdate')","84","    function async (resolve, reject) {","85","      resolve({","86","        name: 'child',","87","        props: ['msg']","88","      })","89","    }","90","    const vnode = createComponent(async, data, vm, vm)","91","    expect(vnode.asyncFactory).toBe(async)","92","    expect(vnode.asyncFactory.contexts.length).toEqual(0)","93","    expect(vnode.tag).toMatch(\/vue-component-[0-9]+-child\/)","94","    expect(vnode.data.staticAttrs).toEqual({ class: 'bar' })","95","    expect(vnode.children).toBeUndefined()","96","    expect(vnode.text).toBeUndefined()","97","    expect(vnode.elm).toBeUndefined()","98","    expect(vnode.ns).toBeUndefined()","99","    expect(vnode.context).toEqual(vm)","100","    expect(vm.$forceUpdate).not.toHaveBeenCalled()","101","    done()","102","  })","103",""],"delete":[]}]}},"5875c7c4906873c31b2feb66bb3ab6a19af6f5d7":{"changes":{"src\/compiler\/codegen\/index.js":"MODIFY","src\/core\/instance\/render-helpers\/render-static.js":"MODIFY","test\/unit\/modules\/compiler\/codegen.spec.js":"MODIFY"},"diff":{"src\/compiler\/codegen\/index.js":[{"add":["88","function genStatic (el: ASTElement, state: CodegenState): string {","93","  }${","94","    el.staticInFor ? ',true' : ''","121","    return genStatic(el, state)"],"delete":["88","function genStatic (el: ASTElement, state: CodegenState, once: ?boolean): string {","93","  },${","94","    el.staticInFor ? 'true' : 'false'","95","  },${","96","    once ? 'true' : 'false'","123","    return genStatic(el, state, true)"]}],"src\/core\/instance\/render-helpers\/render-static.js":[{"add":["9","  isInFor: boolean","11","  const cached = this._staticTrees || (this._staticTrees = [])","21","  tree = cached[index] = this.$options.staticRenderFns[index].call(","22","    this._renderProxy,","23","    null,","24","    this \/\/ for render fns generated for functional component templates","25","  )"],"delete":["9","  isInFor: boolean,","10","  isOnce: boolean","12","  \/\/ render fns generated by compiler < 2.5.4 does not provide v-once","13","  \/\/ information to runtime so be conservative","14","  const isOldVersion = arguments.length < 3","15","  \/\/ if a static tree is generated by v-once, it is cached on the instance;","16","  \/\/ otherwise it is purely static and can be cached on the shared options","17","  \/\/ across all instances.","18","  const renderFns = this.$options.staticRenderFns","19","  const cached = isOldVersion || isOnce","20","    ? (this._staticTrees || (this._staticTrees = []))","21","    : (renderFns.cached || (renderFns.cached = []))","31","  tree = cached[index] = renderFns[index].call(this._renderProxy, null, this)"]}],"test\/unit\/modules\/compiler\/codegen.spec.js":[{"add":["480","      `with(this){return _c('my-component',{inlineTemplate:{render:function(){with(this){return _m(0)}},staticRenderFns:[function(){with(this){return _c('p',[_c('span',[_v(\"hello world\")])])}}]}})}`","500","      `with(this){return _c('div',_l((10),function(i){return _c('div',[_m(0,true)])}))}`,"],"delete":["480","      `with(this){return _c('my-component',{inlineTemplate:{render:function(){with(this){return _m(0,false,false)}},staticRenderFns:[function(){with(this){return _c('p',[_c('span',[_v(\"hello world\")])])}}]}})}`","500","      `with(this){return _c('div',_l((10),function(i){return _c('div',[_m(0,true,false)])}))}`,"]}]}},"c3553196b8b15a71f982bd5e04c61be52e87c828":{"changes":{"src\/core\/instance\/events.js":"MODIFY","src\/platforms\/weex\/runtime\/modules\/events.js":"MODIFY","src\/platforms\/web\/runtime\/modules\/events.js":"MODIFY"},"diff":{"src\/core\/instance\/events.js":[{"add":["21","let target: any","42","  target = undefined"],"delete":["21","let target: Component"]}],"src\/platforms\/weex\/runtime\/modules\/events.js":[{"add":["48","  target = undefined"],"delete":[]}],"src\/platforms\/web\/runtime\/modules\/events.js":[{"add":["28","let target: any","80","  target = undefined"],"delete":["28","let target: HTMLElement"]}]}},"2e472c5e5e559a7a4083b4164ffe0c3911ce0651":{"changes":{"src\/core\/vdom\/helpers\/resolve-async-component.js":"MODIFY","test\/unit\/features\/transition\/transition-mode.spec.js":"MODIFY","test\/unit\/modules\/vdom\/create-component.spec.js":"MODIFY"},"diff":{"src\/core\/vdom\/helpers\/resolve-async-component.js":[{"add":["63","    const forceRender = (renderCompleted: boolean) => {","67","","68","      if (renderCompleted) {","69","        contexts.length = 0","70","      }","79","        forceRender(true)","90","        forceRender(true)","117","                forceRender(false)"],"delete":["63","    const forceRender = () => {","75","        forceRender()","86","        forceRender()","113","                forceRender()"]}],"test\/unit\/features\/transition\/transition-mode.spec.js":[{"add":["459","            }, (duration + buffer) * 1.7)"],"delete":["459","            }, (duration + buffer) * 1.5)"]}],"test\/unit\/modules\/vdom\/create-component.spec.js":[{"add":["60","      expect(vnode.asyncFactory.contexts.length).toEqual(1)","71","      expect(vnode.asyncFactory.contexts.length).toEqual(0)"],"delete":[]}]}},"43b489b11f81956fc832ddee4121cfd59287cc39":{"changes":{"src\/core\/util\/env.js":"MODIFY"},"diff":{"src\/core\/util\/env.js":[{"add":["1","\/* globals MutationObserver *\/","2","","3","import { noop } from 'shared\/util'","18","export const isIOS = UA && \/iphone|ipad|ipod|ios\/.test(UA)","23","function isNative (Ctor: Function): boolean {","24","  return \/native code\/.test(Ctor.toString())","25","}","26","","33","  const callbacks = []","40","    callbacks.length = 0","46","  \/\/ the nextTick behavior leverages the microtask queue, which can be accessed","47","  \/\/ via either native Promise.then or MutationObserver.","48","  \/\/ MutationObserver has wider support, however it is seriously bugged in","49","  \/\/ UIWebView in iOS >= 9.3.3 when triggered in touch event handlers. It","50","  \/\/ completely stops working after triggering a few times... so, if native","51","  \/\/ Promise is available, we will use it:","52","  if (typeof Promise !== 'undefined' && isNative(Promise)) {","53","    var p = Promise.resolve()","54","    timerFunc = () => {","55","      p.then(nextTickHandler)","56","      \/\/ in problematic UIWebViews, Promise.then doesn't completely break, but","57","      \/\/ it can get stuck in a weird state where callbacks are pushed into the","58","      \/\/ microtask queue but the queue isn't being flushed, until the browser","59","      \/\/ needs to do some other work, e.g. handle a timer. Therefore we can","60","      \/\/ \"force\" the microtask queue to be flushed by adding an empty timer.","61","      if (isIOS) setTimeout(noop)","62","    }","63","  } else if (typeof MutationObserver !== 'undefined') {","64","    \/\/ use MutationObserver where native Promise is not available,","65","    \/\/ e.g. IE11, iOS7, Android 4.4","66","    var counter = 1","67","    var observer = new MutationObserver(nextTickHandler)","68","    var textNode = document.createTextNode(String(counter))","69","    observer.observe(textNode, {","70","      characterData: true","73","      counter = (counter + 1) % 2","74","      textNode.data = String(counter)","77","    \/\/ fallback to setTimeout","78","    timerFunc = setTimeout","86","    if (!pending) {","87","      pending = true","88","      timerFunc(nextTickHandler, 0)","89","    }","95","if (typeof Set !== 'undefined' && isNative(Set)) {"],"delete":["25","  let callbacks = []","32","    callbacks = []","38","  \/* istanbul ignore else *\/","39","  if (inBrowser && window.postMessage &&","40","    !window.importScripts && \/\/ not in WebWorker","41","    !(isAndroid && !window.requestAnimationFrame) \/\/ not in Android <= 4.3","42","  ) {","43","    const NEXT_TICK_TOKEN = '__vue__nextTick__'","44","    window.addEventListener('message', e => {","45","      if (e.source === window && e.data === NEXT_TICK_TOKEN) {","46","        nextTickHandler()","47","      }","50","      window.postMessage(NEXT_TICK_TOKEN, '*')","53","    timerFunc = (typeof global !== 'undefined' && global.setImmediate) || setTimeout","61","    if (pending) return","62","    pending = true","63","    timerFunc(nextTickHandler, 0)","69","if (typeof Set !== 'undefined' && \/native code\/.test(Set.toString())) {"]}]}},"405d8e9f4c3201db2ae0e397d9191d9b94edc219":{"changes":{"src\/core\/instance\/lifecycle.js":"MODIFY"},"diff":{"src\/core\/instance\/lifecycle.js":[{"add":["135","    \/\/ release circular reference (#6759)","136","    if (vm.$vnode) {","137","      vm.$vnode.parent = null","138","    }"],"delete":[]}]}}}